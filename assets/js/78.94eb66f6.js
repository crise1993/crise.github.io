(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{596:function(a,i,n){"use strict";n.r(i);var e=n(65),s=Object(e.a)({},(function(){var a=this,i=a.$createElement,n=a._self._c||i;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h1",{attrs:{id:"universal-link-针对-ios9-系统-h5-浏览器唤起-app-使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#universal-link-针对-ios9-系统-h5-浏览器唤起-app-使用"}},[a._v("#")]),a._v(" Universal Link（针对 ios9+系统 h5 浏览器唤起 app 使用）")]),a._v(" "),n("h2",{attrs:{id:"导语"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#导语"}},[a._v("#")]),a._v(" 导语")]),a._v(" "),n("p",[a._v("Universal Link 是苹果在 WWDC2015 上为 iOS9 引入的新功能，通过传统的 HTTP 链接即可打开 APP。如果用户未安装 APP，则会跳转到该链接所对应的页面。")]),a._v(" "),n("h2",{attrs:{id:"为什么要使用-universal-link"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#为什么要使用-universal-link"}},[a._v("#")]),a._v(" 为什么要使用 Universal Link")]),a._v(" "),n("p",[a._v("传统的 Scheme 链接有以下几个痛点：")]),a._v(" "),n("p",[a._v("在 ios 上会有确认弹窗提示用户是否打开，对于用户来说唤端，多出了一步操作。若用户未安装 APP ，也会有一个提示窗，告知我们 “打不开该网页，因为网址无效”。\n假如产品想实现监测用户有没有安装本 app，没有安装的话跳转到 app store 的话，这时候会发现，用户点击确认框稍微慢了点，后续的唤起 app store 的确认框也会弹出，而且覆盖在上一个弹框的上面。\n传统 Scheme 跳转无法得知唤端是否成功，Universal Link 唤端失败可以直接打开此链接对应的页面。\nScheme 在微信、微博、QQ 浏览器、手百中都已经被禁止使用，使用 Universal Link 可以避开它们的屏蔽（ 微信和 QQ 浏览器已禁止 Universal Link，其他主流 APP 未发现有禁止 ）")]),a._v(" "),n("h2",{attrs:{id:"如何让-app-支持-universal-link"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何让-app-支持-universal-link"}},[a._v("#")]),a._v(" 如何让 APP 支持 Universal Link")]),a._v(" "),n("p",[a._v("有大量的文章会详细的告诉我们如何配置，你也可以去看官方文档，我这里简单的写一个 12345。")]),a._v(" "),n("ol",[n("li",[a._v("拥有一个支持 https 的域名")]),a._v(" "),n("li",[a._v("在 开发者中心 ，Identifiers 下 AppIDs 找到自己的 App ID，编辑打开 Associated Domains 服务。")]),a._v(" "),n("li",[a._v("打开工程配置中的 Associated Domains ，在其中的 Domains 中填入你想支持的域名，必须以 applinks: 为前缀")]),a._v(" "),n("li",[a._v("配置 apple-app-site-association 文件，文件名必须为 apple-app-site-association ，不带任何后缀")]),a._v(" "),n("li",[a._v("上传该文件到你的 HTTPS 服务器的 根目录 或者 .well-known 目录下")])]),a._v(" "),n("h2",{attrs:{id:"universal-link-使用注意事项"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#universal-link-使用注意事项"}},[a._v("#")]),a._v(" universal link 使用注意事项")]),a._v(" "),n("ol",[n("li",[a._v("域名问题\nUniversal Link 支持的域名最多只能支持到二级域名，如果你用到了三级域名，Universal Link 唤端是不会生效的。")])]),a._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[a._v("跨域问题\nIOS 9.2 以后，必须要触发跨域才能支持 Universal Link 唤端。\nIOS 那边有这样一个判断，如果你要打开的 Universal Link 和 当前页面是同一域名，ios 尊重用户最可能的意图，直接打开链接所对应的页面。如果不在同一域名下，则在你的 APP 中打开链接，也就是执行具体的唤端操作。")])]),a._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[a._v("Universal Link 是空页面\nUniversal Link 本质上是个空页面，如果未安装 APP，Universal Link 被当做普通的页面链接，自然会跳到 404 页面，所以我们需要将它绑定到我们的中转页或者下载页。")])]),a._v(" "),n("h2",{attrs:{id:"h5-使用方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#h5-使用方法"}},[a._v("#")]),a._v(" h5 使用方法")]),a._v(" "),n("p",[a._v("通过 window.location 打开，或者通过 window.open 打开")]),a._v(" "),n("h2",{attrs:{id:"参考文档"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考文档"}},[a._v("#")]),a._v(" 参考文档")]),a._v(" "),n("p",[n("a",{attrs:{href:"https://developer.apple.com/library/archive/documentation/General/Conceptual/AppSearch/UniversalLinks.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("universal link doc"),n("OutboundLink")],1)]),a._v(" "),n("p",[n("a",{attrs:{href:"https://yq.aliyun.com/articles/608583",target:"_blank",rel:"noopener noreferrer"}},[a._v("Universal Link 是个骗子"),n("OutboundLink")],1)])])}),[],!1,null,null,null);i.default=s.exports}}]);